<!DOCTYPE html>
<html>

<head>
    <title></title>
    <!-- <meta charset="utf-8" name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"> -->
    <!-- <meta name="viewport" content="initial-scale=1, maximum-scale=1"> -->
    <style>
        input::-webkit-input-placeholder {
            /* WebKit browsers，webkit内核浏览器 */
            color: #ccc;
            font-size: 16px;
        }

        input:-moz-placeholder {
            /* Mozilla Firefox 4 to 18 */
            color: #ccc;
            font-size: 16px;
        }

        input::-moz-placeholder {
            /* Mozilla Firefox 19+ */
            color: #ccc;
            font-size: 16px;
        }

        input:-ms-input-placeholder {
            /* Internet Explorer 10+ */
            color: #ccc;
            font-size: 16px;
        }
    </style>
    <style>
        * {
            border: 0;
            margin: 0;
            padding: 0;

        }

        .mbut {
            margin: 42px auto 20px;
            font-size: 18px;
            width: 331.641px;
            height: 50px;
            display: block;
            color: rgb(255, 255, 255);
            cursor: pointer;
            background-color: #0000007a;
            border-radius: 4px;
            border: 0;
        }

        .title-h1 {
            margin-top: 1.6em;
            font-size: 24px;
            color: rgb(255, 255, 150);
            letter-spacing: 2.4px;
            text-align: center;
            line-height: 30px;
        }

        .title-h2 {
            margin-bottom: 2em;
            font-size: 16px;
            font-weight: 400;
            color: rgb(255, 255, 150);
            letter-spacing: 0.8px;
            text-align: center;
            line-height: 20px;
        }

        .un {
            color: #fff;
            border-width: 1px;
            border-style: solid;
            border-color: rgba(218, 218, 218, 0.493);
            margin-bottom: 18px;
            width: 330px;
            height: 44px;
            line-height: 44px;
            position: relative;
            border-radius: 4px;
            background-color: #00000000;
        }

        .boxt {
            font-size: 14px;
            outline: none;
            width: 200px;
            height: 44px;
            position: absolute;
            left: 18px;
            top: 0px;
            color: rgb(255, 255, 255) !important;
            background-color: rgba(0, 0, 0, 0);
        }

        #main {
            width: 330px;
            padding: 0 25px;
            height: auto;
            border: 1px solid #3a5a7a;
            position: absolute;
            right: 15vw;
            top: 216px;
            z-index: 300;
            border-radius: 10px;
            background-color: rgba(0, 0, 0, 0.205);
            border: 0;
        }

        .glass-container {
            width: 100%;
            color: #ffffff7c;
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            border-radius: 32px;
            backdrop-filter: blur(8px);
            background-color: rgba(0, 0, 0, 0.521);
        }

        .footer {
            text-align: center;
            position: absolute;
            bottom: 3px;
            /* display: flex; */
            width: 100%;
            color: #ffffff7c;
            background-color: rgba(0, 0, 0, 0.521);
        }
    </style>

</head>

<body>

    <div class="glass-container" id="glass" style="text-align: center;">
        <h1 class="in"> &nbsp; &nbsp; &nbsp; &nbsp;GEEK SPACE</h1>
        <h1 class="in" style="font-size: 40px;"> &nbsp; &nbsp; &nbsp; &nbsp;极客领域 &nbsp; &nbsp; &nbsp; &nbsp;</h1>
    </div>

    <div id="main">
        <div id="login" style="margin-right: auto; margin-left: auto; width: 330px;">
            <form id="form1">

                <h1 class="title-h1">
                    统一服务认证</h1>
                <h2 class="title-h2" style="margin-top: 10px;">账户登录</h2>
                <p style="color: #ffe23d" id="warns">&nbsp;</p>
                <div id="User_name" class="un">
                    <input type="text" id="username" placeholder="请输入用户名" class="boxt">
                </div>
                <div id="Password" class="un">
                    <input type="password" name="Pwd" id="passwd" placeholder="登录密码" autocomplete="off" class="boxt">
                </div>
                <button class="mbut" onclick="login()" id="Submit" type="button">登 &nbsp; &nbsp; 录</button>
                <div style="text-align: center;">
                    <!-- <a href="Untitled-2.html?user=test">test</a> -->
                </div>
                <br />

            </form>
        </div>

    </div>
    <div class="footer">
        <p>Copyright © 2021 - 2024 Rungen team<br />
            All Rights Reserved</p>

    </div>

    <script type="text/javascript" src="/js/base64.js"></script>
    <script type="text/javascript">
            // alert(Base64.encode("ds"))
            // alert(Base64.decode("ZGFzcw=="))
        var $ = $ || {};
        $.getParam = function (key, strURL) {
            strURL = strURL || window.location.search;
            return new RegExp("(^|\\?|&)" + key + "=([^&]*)(\\s|&|$)", "i").test(strURL) ?
                decodeURIComponent(RegExp.$2.replace(/\+/g, "    ")) : "";
        };

        //    console.log($.getParam('param'));    //第二个参数不传拿当前window.location    用于普通页面
        //    console.log($.getParam('param',top.window.location));    //用于包括有iframe的页面,得到的结果是xxx#bbb.html
        a = $.getParam('username', top.window.location.search);
        b = $.getParam('pre', top.window.location.search);

        console.log(a)
        document.getElementById('username').value =atob(a);
        document.getElementById('passwd').value = atob(b);
        let accountAll = []
        function login() {
            let username = document.getElementById('username').value;
            let passwd = document.getElementById('passwd').value;
            x = document.getElementById("warns")
            let account = accountAll.filter(function (e) {
                return e.username == username
            })[0];
            if (!account) {
                if (username === "") {
                    x.innerHTML = "请输入账户";
                    document.getElementById('username').focus();
                } else {
                    x.innerHTML = "账户不存在";
                    doClear();
                }
            } else {
                if (account.username == username && account.passwd == passwd) {
                    x.innerHTML = "登陆成功";
                    doClear();
                    // window.location.replace("https://baidu.com")

                    times = Date.now()
                    time_1 = (times - (times % 10000)) / 10000;
                    location.href =  "/e/?user="+ "0126" + time_1 +"&are=" + btoa(account.username);
                    // location.href =  "/e/"
                } else if (passwd === "") {
                    x.innerHTML = "请输入密码！";
                    document.getElementById('passwd').focus();
                } else {
                    x.innerHTML = "密码错误";
                    doClear();
                    document.getElementById('username').focus();
                }
            }
        }


        function doClear() {
            let inputs = document.getElementsByTagName("input");
            for (let i = 0; i < inputs.length; i++) {
                if (inputs[i].type == 'text' || inputs[i].type == 'password') {
                    inputs[i].value = '';
                }
            }
        }

        document.addEventListener("keydown", function (event) { if (event.key === "Enter") { login() } })
        ana = { username: "frr", passwd: "20100126" }
        bna = { username: "admini", passwd: '20090815' }
        cna = { username: 1, passwd: '1' }
        accountAll.push(ana);
        accountAll.push(bna);
        accountAll.push(cna);
    </script>
    <script>
        window.onload = function () {
            document.body.style.margin = "0";
            document.body.style.background = "#333333dd";
            document.body.appendChild(document.createElement('canvas'));
            var canvas = document.querySelector('canvas'),
                ctx = canvas.getContext('2d')
            canvas.width = window.innerWidth;
            canvas.height = window.innerHeight;
            canvas.style.position = 'fixed';
            ctx.lineWidth = .3;
            ctx.strokeStyle = (new Color(150)).style;
            var mousePosition = {
                x: 30 * canvas.width / 100,
                y: 30 * canvas.height / 100
            };
            var dots = {
                nb: 300,
                distance: 50,
                d_radius: 800,
                array: []
            };
            function mixComponents(comp1, weight1, comp2, weight2) {
                return (comp1 * weight1 + comp2 * weight2) / (weight1 + weight2);
            }
            function averageColorStyles(dot1, dot2) {
                var color1 = dot1.color,
                    color2 = dot2.color;

                var r = mixComponents(color1.r, dot1.radius, color2.r, dot2.radius),
                    g = mixComponents(color1.g, dot1.radius, color2.g, dot2.radius),
                    b = mixComponents(color1.b, dot1.radius, color2.b, dot2.radius);
                return createColorStyle(Math.floor(r), Math.floor(g), Math.floor(b));
            }
            function colorValue(min) {
                return Math.floor(Math.random() * 255 + min);
            }
            function createColorStyle(r, g, b) {
                return 'rgba(' + r + ',' + g + ',' + 0 + ', 0.9)';
            }
            function Color(min) {
                min = min || 0;
                this.r = colorValue(min);
                this.g = colorValue(min);
                this.b = colorValue(min);
                this.style = createColorStyle(this.r, this.g, this.b);
            }

            function Dot() {
                this.x = Math.random() * canvas.width;
                this.y = Math.random() * canvas.height;

                this.vx = -.5 + Math.random();
                this.vy = -.5 + Math.random();

                this.radius = 4;

                this.color = new Color();
            }

            Dot.prototype = {
                draw: function () {
                    ctx.beginPath();
                    ctx.fillStyle = this.color.style;
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2, false);
                    ctx.fill();
                }
            };
            function moveDots() {
                for (i = 0; i < dots.nb; i++) {

                    var dot = dots.array[i];

                    if (dot.y < 0 || dot.y > canvas.height) {
                        dot.vx = dot.vx;
                        dot.vy = - dot.vy;
                    }
                    else if (dot.x < 0 || dot.x > canvas.width) {
                        dot.vx = - dot.vx;
                        dot.vy = dot.vy;
                    }
                    dot.x += dot.vx;
                    dot.y += dot.vy;
                }
            }



            function connectDots() {
                for (i = 0; i < dots.nb; i++) {
                    for (j = i; j < dots.nb; j++) {
                        i_dot = dots.array[i];
                        j_dot = dots.array[j];

                        if ((i_dot.x - j_dot.x) < dots.distance && (i_dot.y - j_dot.y) < dots.distance && (i_dot.x - j_dot.x) > - dots.distance && (i_dot.y - j_dot.y) > - dots.distance) {
                            if ((i_dot.x - mousePosition.x) < dots.d_radius && (i_dot.y - mousePosition.y) < dots.d_radius && (i_dot.x - mousePosition.x) > - dots.d_radius && (i_dot.y - mousePosition.y) > - dots.d_radius) {
                                ctx.beginPath();
                                ctx.strokeStyle = averageColorStyles(i_dot, j_dot);
                                ctx.moveTo(i_dot.x, i_dot.y);
                                ctx.lineTo(j_dot.x, j_dot.y);
                                ctx.stroke();
                                ctx.closePath();
                            }
                        }
                    }
                }
            }
            function createDots() {
                for (i = 0; i < dots.nb; i++) {
                    dots.array.push(new Dot());
                }
            }
            function drawDots() {
                for (i = 0; i < dots.nb; i++) {
                    var dot = dots.array[i];
                    dot.draw();
                }
            }
            function animateDots() {
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                moveDots();
                connectDots();
                drawDots();
                requestAnimationFrame(animateDots);
            }
            createDots();
            requestAnimationFrame(animateDots);

            // document.querySelector('canvas').addEventListener('mousemove', function (e) {
            //     mousePosition.x = e.pageX;
            //     mousePosition.y = e.pageY;
            // })

            // document.querySelector('canvas').addEventListener('mouseleave', function (e) {
            //     mousePosition.x = canvas.width / 2;
            //     mousePosition.y = canvas.height / 2;
            // })

        }
    </script>
</body>

</html>